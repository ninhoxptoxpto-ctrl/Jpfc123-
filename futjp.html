<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fut de Botão JP</title>

<style>
body{margin:0;background:#0b8f3f;font-family:Arial;overflow:hidden}
#top{
color:#fff;text-align:center;
font-size:22px;font-weight:bold;padding:6px
}
canvas{display:block;margin:auto;background:#1ecb63}
#controls{
position:fixed;bottom:10px;width:100%;
display:flex;justify-content:space-around
}
button{
width:65px;height:65px;border-radius:50%;
border:none;font-size:22px
}
#gol{
position:fixed;top:40%;width:100%;
text-align:center;font-size:50px;
color:yellow;font-weight:bold;
display:none;text-shadow:3px 3px 8px #000
}
</style>
</head>

<body>

<div id="top">⚽ 0 x 0 ⏱️ 2:00</div>
<div id="gol">GOOOOOL!!!</div>

<canvas id="c" width="360" height="640"></canvas>

<div id="controls">
<button ontouchstart="key='up'" ontouchend="key=''">↑</button>
<button ontouchstart="key='left'" ontouchend="key=''">←</button>
<button ontouchstart="key='right'" ontouchend="key=''">→</button>
<button ontouchstart="key='down'" ontouchend="key=''">↓</button>
<button ontouchstart="kick()">⚽</button>
</div>

<script>
const c=document.getElementById("c");
const ctx=c.getContext("2d");

let key="";
let time=120;
let scoreA=0, scoreB=0;

const field={x:20,y:20,w:320,h:600};

const goals=[
 {x:field.x+10,y:field.y+10,w:60,h:12,team:"B"},
 {x:field.x+field.w-70,y:field.y+10,w:60,h:12,team:"B"},
 {x:field.x+10,y:field.y+field.h-22,w:60,h:12,team:"A"},
 {x:field.x+field.w-70,y:field.y+field.h-22,w:60,h:12,team:"A"}
];

const ball={x:180,y:320,vx:0,vy:0,r:8};

const players=[
 {x:150,y:500,vx:0,vy:0,r:18,color:"#00e5ff",ai:false},
 {x:210,y:500,vx:0,vy:0,r:18,color:"#7c3aed",ai:false},

 {x:150,y:140,vx:0,vy:0,r:18,color:"#ff4444",ai:true},
 {x:210,y:140,vx:0,vy:0,r:18,color:"#ff9800",ai:true}
];

function kick(){
players.forEach(p=>{
let dx=ball.x-p.x;
let dy=ball.y-p.y;
let d=Math.hypot(dx,dy);
if(d<28){
ball.vx=dx*0.5;
ball.vy=dy*0.5;
}
});
}

function collide(a,b){
let dx=b.x-a.x;
let dy=b.y-a.y;
let dist=Math.hypot(dx,dy);
if(dist<a.r+b.r){
let nx=dx/dist, ny=dy/dist;
a.vx-=nx*1.2; a.vy-=ny*1.2;
b.vx+=nx*1.2; b.vy+=ny*1.2;
}
}

function goal(team){
if(team==="A") scoreA++;
else scoreB++;

document.getElementById("gol").style.display="block";
setTimeout(()=>{
document.getElementById("gol").style.display="none";
ball.x=180; ball.y=320; ball.vx=0; ball.vy=0;
},1000);
}

function update(){
players.forEach(p=>{
if(!p.ai){
if(key=="up")p.vy-=0.5;
if(key=="down")p.vy+=0.5;
if(key=="left")p.vx-=0.5;
if(key=="right")p.vx+=0.5;
}else{
let dx=ball.x-p.x;
let dy=ball.y-p.y;
p.vx+=dx*0.001;
p.vy+=dy*0.001;
}

p.x+=p.vx;
p.y+=p.vy;
p.vx*=0.92;
p.vy*=0.92;

if(p.x<p.r+field.x)p.x=p.r+field.x;
if(p.x>field.x+field.w-p.r)p.x=field.x+field.w-p.r;
if(p.y<p.r+field.y)p.y=p.r+field.y;
if(p.y>field.y+field.h-p.r)p.y=field.y+field.h-p.r;
});

ball.x+=ball.vx;
ball.y+=ball.vy;
ball.vx*=0.99;
ball.vy*=0.99;

if(ball.x<ball.r+field.x||ball.x>field.x+field.w-ball.r)ball.vx*=-1;
if(ball.y<ball.r+field.y||ball.y>field.y+field.h-ball.r)ball.vy*=-1;

players.forEach(p=>collide(p,ball));
for(let i=0;i<players.length;i++)
for(let j=i+1;j<players.length;j++)
collide(players[i],players[j]);

goals.forEach(g=>{
if(ball.x>g.x && ball.x<g.x+g.w &&
   ball.y>g.y && ball.y<g.y+g.h){
goal(g.team);
}
});
}

function draw(){
ctx.clearRect(0,0,c.width,c.height);

ctx.fillStyle="#1ecb63";
ctx.fillRect(field.x,field.y,field.w,field.h);

ctx.strokeStyle="#fff";
ctx.lineWidth=5;
ctx.strokeRect(field.x,field.y,field.w,field.h);

ctx.beginPath();
ctx.moveTo(field.x,field.y+field.h/2);
ctx.lineTo(field.x+field.w,field.y+field.h/2);
ctx.stroke();

ctx.beginPath();
ctx.arc(field.x+field.w/2,field.y+field.h/2,55,0,Math.PI*2);
ctx.stroke();

ctx.fillStyle="#fff";
goals.forEach(g=>ctx.fillRect(g.x,g.y,g.w,g.h));

players.forEach(p=>{
ctx.beginPath();
ctx.fillStyle=p.color;
ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
ctx.fill();
});

ctx.beginPath();
ctx.fillStyle="#fff";
ctx.arc(ball.x,ball.y,ball.r,0,Math.PI*2);
ctx.fill();

document.getElementById("top").innerHTML=
`⚽ ${scoreA} x ${scoreB} ⏱️ ${Math.floor(time/60)}:${String(time%60).padStart(2,"0")}`;
}

setInterval(()=>{ if(time>0) time--; },1000);

function loop(){
update();
draw();
requestAnimationFrame(loop);
}
loop();
</script>

</body>
</html>
