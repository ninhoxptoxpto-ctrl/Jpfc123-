<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fut JP</title>

<style>
body{
  margin:0;
  background:#0b5d2a;
  color:white;
  font-family:Arial;
  text-align:center;
}

button{
  padding:14px 24px;
  font-size:18px;
  border:none;
  border-radius:14px;
  margin:8px;
}

canvas{
  background:#1f8f43;
  border:6px solid #fff;
  border-radius:16px;
  touch-action:none;
}
</style>
</head>

<body>

<div id="menu">
  <h2>‚öΩ FUT DE BOT√ÉO JP</h2>

  <h3>Modo</h3>
  <button onclick="modo='ia'">ü§ñ IA</button>
  <button onclick="modo='2p'">üë• 2 Jogadores</button>

  <h3>For√ßa do Time</h3>
  <button onclick="forca=1">üü¢ Fraco</button>
  <button onclick="forca=2">üü° M√©dio</button>
  <button onclick="forca=3">üî¥ Forte</button>

  <br><br>
  <button onclick="start()">‚ñ∂ JOGAR</button>
</div>

<div id="game" style="display:none">
  <h3><span id="placar">0 x 0</span> | ‚è± <span id="tempo">80</span></h3>
  <canvas id="c" width="320" height="520"></canvas>
</div>

<script>
let modo="ia";
let forca=2;

const canvas=document.getElementById("c");
const ctx=canvas.getContext("2d");

let tempo=80;
let a=0,b=0;

const bola={x:160,y:260,vx:0,vy:0,r:7};

const p1={x:160,y:430,r:18,cor:"#7b2cbf"};
const p2={x:200,y:430,r:18,cor:"#7b2cbf"};

const cpu1={x:140,y:120,r:18,cor:"#ff2d2d"};
const cpu2={x:180,y:120,r:18,cor:"#ff2d2d"};

let touch=null;

canvas?.addEventListener("touchstart",e=>touch=e.touches[0]);
canvas?.addEventListener("touchmove",e=>touch=e.touches[0]);
canvas?.addEventListener("touchend",()=>touch=null);

function start(){
  document.getElementById("menu").style.display="none";
  document.getElementById("game").style.display="block";
  loop();
}

function move(p){
  if(!touch) return;
  const r=canvas.getBoundingClientRect();
  let tx=touch.clientX-r.left;
  let ty=touch.clientY-r.top;
  p.x+=(tx-p.x)*0.15;
  p.y+=(ty-p.y)*0.15;
}

function cpuMove(p){
  let dx=bola.x-p.x;
  let dy=bola.y-p.y;
  let d=Math.hypot(dx,dy);
  if(d<250){
    p.x+=dx*0.002*forca;
    p.y+=dy*0.002*forca;
  }
}

function colisao(p){
  let dx=bola.x-p.x;
  let dy=bola.y-p.y;
  let d=Math.hypot(dx,dy);
  if(d<p.r+bola.r){
    bola.vx=dx*0.25;
    bola.vy=dy*0.25;
  }
}

function draw(p){
  ctx.beginPath();
  ctx.fillStyle=p.cor;
  ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
  ctx.fill();
}

function loop(){
  ctx.clearRect(0,0,320,520);

  move(p1);
  if(modo==="2p") move(p2);

  if(modo==="ia"){
    cpuMove(cpu1);
    cpuMove(cpu2);
  }

  colisao(p1);
  colisao(p2);
  colisao(cpu1);
  colisao(cpu2);

  bola.x+=bola.vx;
  bola.y+=bola.vy;
  bola.vx*=0.98;
  bola.vy*=0.98;

  if(bola.y<0){ a++; reset(); }
  if(bola.y>520){ b++; reset(); }

  ctx.fillStyle="white";
  ctx.beginPath();
  ctx.arc(bola.x,bola.y,bola.r,0,Math.PI*2);
  ctx.fill();

  draw(p1); draw(p2); draw(cpu1); draw(cpu2);

  document.getElementById("placar").innerText=a+" x "+b;

  requestAnimationFrame(loop);
}

function reset(){
  bola.x=160; bola.y=260;
  bola.vx=0; bola.vy=0;
}

setInterval(()=>{
  tempo--;
  document.getElementById("tempo").innerText=tempo;
  if(tempo<=0){
    alert("Fim de jogo");
    location.reload();
  }
},1000);
</script>

</body>
</html>
