<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fut de Botão JP</title>

<style>
body{
margin:0;
background:#0b7a3b;
overflow:hidden;
font-family:Arial;
}

#ui{
color:#fff;
text-align:center;
font-size:22px;
font-weight:bold;
padding:8px;
}

canvas{
display:block;
margin:0 auto;
background:#1fc764;
}

.controls{
position:fixed;
bottom:110px;
width:100%;
display:flex;
justify-content:center;
gap:12px;
}

.btn{
width:60px;
height:60px;
border-radius:50%;
border:none;
font-size:22px;
}
</style>
</head>

<body>

<div id="ui">⚽ 0 x 0 ⏱ 2:00</div>

<canvas id="c"></canvas>

<div class="controls">
<button class="btn" id="up">↑</button>
<button class="btn" id="left">←</button>
<button class="btn" id="right">→</button>
<button class="btn" id="down">↓</button>
<button class="btn" id="kick">⚽</button>
</div>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight - 200;

let time = 120;
let scoreA = 0;
let scoreB = 0;

const field = {
x: 40,
y: 40,
w: canvas.width - 80,
h: canvas.height - 80
};

const goalTop = {
x: field.x + field.w/2 - 80,
y: field.y,
w: 160,
h: 14
};

const goalBottom = {
x: field.x + field.w/2 - 80,
y: field.y + field.h - 14,
w: 160,
h: 14
};

const ball = { x: canvas.width/2, y: canvas.height/2, vx:0, vy:0, r:9 };

const p1 = { x: canvas.width/2, y: canvas.height - 140, r:18, color:"#00e5ff" };
const p2 = { x: canvas.width/2, y: 160, r:18, color:"#a855f7" };

function reset(){
ball.x = canvas.width/2;
ball.y = canvas.height/2;
ball.vx = 0;
ball.vy = 0;
}

function drawField(){
ctx.strokeStyle="#fff";
ctx.lineWidth=4;
ctx.strokeRect(field.x,field.y,field.w,field.h);

ctx.beginPath();
ctx.arc(canvas.width/2,canvas.height/2,60,0,Math.PI*2);
ctx.stroke();

ctx.fillStyle="#fff";
ctx.fillRect(goalTop.x,goalTop.y,goalTop.w,goalTop.h);
ctx.fillRect(goalBottom.x,goalBottom.y,goalBottom.w,goalBottom.h);
}

function draw(o){
ctx.beginPath();
ctx.arc(o.x,o.y,o.r,0,Math.PI*2);
ctx.fillStyle=o.color||"#fff";
ctx.fill();
}

function collide(p){
let dx = ball.x - p.x;
let dy = ball.y - p.y;
let d = Math.hypot(dx,dy);
if(d < ball.r + p.r){
ball.vx = dx * 0.5;
ball.vy = dy * 0.5;
}
}

function physics(){
ball.x += ball.vx;
ball.y += ball.vy;

ball.vx *= 0.97;
ball.vy *= 0.97;

// paredes laterais e verticais (nada passa)
if(ball.x < field.x + ball.r){
ball.x = field.x + ball.r;
ball.vx *= -1;
}
if(ball.x > field.x + field.w - ball.r){
ball.x = field.x + field.w - ball.r;
ball.vx *= -1;
}
if(ball.y < field.y + ball.r){
ball.y = field.y + ball.r;
ball.vy *= -1;
}
if(ball.y > field.y + field.h - ball.r){
ball.y = field.y + field.h - ball.r;
ball.vy *= -1;
}

// gol cima
if(
ball.x > goalTop.x &&
ball.x < goalTop.x + goalTop.w &&
ball.y - ball.r <= goalTop.y + goalTop.h
){
scoreB++;
reset();
}

// gol baixo
if(
ball.x > goalBottom.x &&
ball.x < goalBottom.x + goalBottom.w &&
ball.y + ball.r >= goalBottom.y
){
scoreA++;
reset();
}
}

function ai(){
p2.x += (ball.x - p2.x)*0.02;
p2.y += (ball.y - p2.y)*0.02;
}

setInterval(()=>{
if(time>0) time--;
},1000);

function ui(){
document.getElementById("ui").innerText =
`⚽ ${scoreA} x ${scoreB} ⏱ ${Math.floor(time/60)}:${String(time%60).padStart(2,"0")}`;
}

function loop(){
ctx.clearRect(0,0,canvas.width,canvas.height);

drawField();
physics();

collide(p1);
collide(p2);
ai();

draw(ball);
draw(p1);
draw(p2);

ui();
requestAnimationFrame(loop);
}

document.getElementById("up").onclick=()=>p1.y-=14;
document.getElementById("down").onclick=()=>p1.y+=14;
document.getElementById("left").onclick=()=>p1.x-=14;
document.getElementById("right").onclick=()=>p1.x+=14;
document.getElementById("kick").onclick=()=>{
let dx = ball.x - p1.x;
let dy = ball.y - p1.y;
ball.vx = dx * 0.8;
ball.vy = dy * 0.8;
};

loop();
</script>
</body>
</html>
