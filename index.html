<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Mini Futebol JP</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;background:#0b5d2a;font-family:Arial;color:white;text-align:center}
#menu{padding:20px}
select,button{padding:10px;margin:6px;font-size:15px}
#placar{margin:10px;font-size:20px}

#campo{
  width:320px;height:480px;margin:auto;
  background:#1e7f3f;border:4px solid white;
  position:relative;display:none
}
.gol{
  position:absolute;left:100px;width:120px;height:30px;border:3px solid white
}
#golsup{top:0} 
#golinf{bottom:0}

.jogador,.zagueiro{
  position:absolute;width:26px;height:26px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:9px;font-weight:bold;color:white
}
.goleiro{
  position:absolute;width:44px;height:14px;
  background:black;border-radius:6px
}
.bola{
  position:absolute;width:12px;height:12px;
  background:white;border-radius:50%
}
</style>
</head>

<body>

<div id="menu">
  <h3>‚öΩ Escolha os times</h3>

  <p>Seu time</p>
  <select id="meuTime">
    <option value="#00e676">Fantasma FC</option>
    <option value="#03a9f4">Raios de Gelo</option>
    <option value="#ff9800">Praia do Drag√£o</option>
    <option value="#9c27b0">Gamers</option>
  </select>

  <p>Advers√°rio</p>
  <select id="advTime">
    <option value="#e53935">Fantasma FC</option>
    <option value="#1565c0">Raios de Gelo</option>
    <option value="#f44336">Praia do Drag√£o</option>
    <option value="#6a1b9a">Gamers</option>
  </select><br>

  <button onclick="start()">‚ñ∂Ô∏è Jogar</button>
</div>

<h3 id="placar">üè† 0 x 0 üõ´</h3>

<div id="campo">
  <div id="golsup" class="gol"></div>
  <div id="golinf" class="gol"></div>

  <div id="j1" class="jogador">JP<br>10</div>
  <div id="j2" class="jogador">Pedro<br>09</div>

  <div id="z1" class="zagueiro"></div>
  <div id="z2" class="zagueiro"></div>

  <div id="gkMeu" class="goleiro"></div>
  <div id="gkAdv" class="goleiro"></div>

  <div id="bola" class="bola"></div>
</div>

<div id="controles" style="display:none">
<button onclick="move(0,-10)">‚¨ÜÔ∏è</button><br>
<button onclick="move(-10,0)">‚¨ÖÔ∏è</button>
<button onclick="move(10,0)">‚û°Ô∏è</button><br>
<button onclick="move(0,10)">‚¨áÔ∏è</button><br><br>
<button onclick="passe()">ü§ù Passe</button>
<button onclick="chutar()">‚öΩ Chutar</button>
<button onclick="desarme()">üõ°Ô∏è Desarme</button>
</div>

<script>
const el=id=>document.getElementById(id);

/* PLACAR */
let golsMeu=0, golsAdv=0;
function atualizarPlacar(){
  el("placar").innerText = "üè† " + golsMeu + " x " + golsAdv + " üõ´";
}

/* POSI√á√ïES */
const j1={x:130,y:360};
const j2={x:190,y:360};
const bola={x:160,y:330};

const z1={x:90,y:200,tem:false};
const z2={x:210,y:200,tem:false};

const gkMeu={x:140,y:440};
const gkAdv={x:140,y:20};

let atual=1;
let dono="jogador";
let anim=false;
let bolaSolta=false;

/* START */
function start(){
  el("j1").style.background=el("meuTime").value;
  el("j2").style.background=el("meuTime").value;
  el("z1").style.background=el("advTime").value;
  el("z2").style.background=el("advTime").value;

  el("menu").style.display="none";
  el("campo").style.display="block";
  el("controles").style.display="block";
  atualizarPlacar();
  draw();
}

function pos(id,o){
  el(id).style.left=o.x+"px";
  el(id).style.top=o.y+"px";
}
function draw(){
  pos("j1",j1); pos("j2",j2);
  pos("z1",z1); pos("z2",z2);
  pos("gkMeu",gkMeu); pos("gkAdv",gkAdv);
  pos("bola",bola);
}
function jogador(){return atual===1?j1:j2}

/* MOVIMENTO */
function move(dx,dy){
  if(anim||dono!=="jogador")return;
  let j=jogador();
  j.x+=dx; j.y+=dy;
  bola.x=j.x+7; bola.y=j.y-12;
  draw();
}

/* PASSE */
function passe(){
  if(anim||dono!=="jogador")return;
  anim=true; bolaSolta=true;
  let o=jogador(), d=atual===1?j2:j1;
  let i=0;
  let it=setInterval(()=>{
    bola.x+=(d.x-o.x)/20;
    bola.y+=(d.y-o.y)/20;
    draw(); i++;
    if(i>20){
      clearInterval(it);
      atual=atual===1?2:1;
      bolaSolta=false; anim=false;
    }
  },30);
}

/* CHUTE */
function chutar(){
  if(anim||dono!=="jogador")return;
  anim=true; bolaSolta=true;
  let curva=(Math.random()*6)-3;
  let it=setInterval(()=>{
    bola.y-=14; bola.x+=curva; draw();
    if(colide(bola,gkAdv)){
      if(Math.random()<0.35){
        golsMeu++; atualizarPlacar();
        alert("‚öΩ GOL SEU!");
      }
      clearInterval(it); reset();
    }
    if(bola.y<30){
      golsMeu++; atualizarPlacar();
      alert("‚öΩ GOL SEU!");
      clearInterval(it); reset();
    }
  },30);
}

/* DESARME */
function desarme(){
  if(dono!=="adv")return;
  let j=jogador();
  [z1,z2].forEach(z=>{
    if(z.tem && colide(j,z)){
      if(Math.random()<0.65){
        z.tem=false; dono="jogador"; bolaSolta=false;
        bola.x=j.x+7; bola.y=j.y-12;
      }
    }
  });
  draw();
}

/* IA ADVERS√ÅRIA */
setInterval(()=>{
  let alvo=dono==="jogador"?jogador():bola;
  [z1,z2].forEach(z=>{
    if(!z.tem){
      z.x+=(alvo.x-z.x)/18;
      z.y+=(alvo.y-z.y)/18;
      if(colide(z,bola)){
        z.tem=true; dono="adv"; bolaSolta=true;
      }
    }else{
      bola.x=z.x+7; bola.y=z.y+20;
      z.y+=2.4;
      if(z.y>380) chuteAdv();
    }
  });
  draw();
},80);

/* CHUTE ADVERS√ÅRIO */
function chuteAdv(){
  z1.tem=false; z2.tem=false;
  let it=setInterval(()=>{
    bola.y+=14; draw();
    if(colide(bola,gkMeu)){
      clearInterval(it); reset();
    }
    if(bola.y>450){
      golsAdv++; atualizarPlacar();
      alert("üò≠ Gol do advers√°rio");
      clearInterval(it); reset();
    }
  },30);
}

/* GOLEIROS ‚Äî s√≥ com bola solta */
setInterval(()=>{
  if(!bolaSolta) return;
  gkMeu.x+=(bola.x-gkMeu.x)/6;
  gkAdv.x+=(bola.x-gkAdv.x)/14;
  draw();
},60);

function colide(a,b){
  return Math.abs(a.x-b.x)<18 && Math.abs(a.y-b.y)<18;
}

/* RESET */
function reset(){
  j1.x=130; j1.y=360;
  j2.x=190; j2.y=360;
  z1.x=90; z1.y=200; z1.tem=false;
  z2.x=210; z2.y=200; z2.tem=false;
  bola.x=160; bola.y=330;
  dono="jogador"; atual=1; anim=false; bolaSolta=false;
  draw();
}
</script>

</body>
  </html>
