<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Mini Futebol JP</title>

<style>
body {
  margin: 0;
  background: #0b6623;
  color: white;
  font-family: Arial, sans-serif;
  text-align: center;
}

#menu {
  padding-top: 40px;
}

button {
  padding: 15px 25px;
  font-size: 18px;
  margin: 10px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
}

#game {
  display: none;
  background: #1e7f3f;
  margin: auto;
  border: 5px solid white;
}

.hud {
  display: none;
  font-size: 22px;
  padding: 10px;
}
</style>
</head>

<body>

<div id="menu">
  <h1>‚öΩ Mini Futebol JP</h1>
  <h2>Escolha seu time</h2>

  <button onclick="selecionarTime('Espectro JP FC', 'JP 11', '#5a189a')">üëª Espectro JP FC</button><br>
  <button onclick="selecionarTime('Tempestade de Gelo FC', 'MF 09', '#00b4d8')">‚ùÑÔ∏è Tempestade de Gelo FC</button><br>
  <button onclick="selecionarTime('Cyber Games FC', 'Julia 05', '#00ff88')">üéÆ Cyber Games FC</button><br>
  <button onclick="selecionarTime('Drag√£o do Mar FC', 'Ninho 10', '#d00000')">üêâ Drag√£o do Mar FC</button><br><br>

  <button onclick="iniciarJogo()">‚ñ∂Ô∏è JOGAR</button>
</div>

<div class="hud" id="hud"></div>

<canvas id="game" width="360" height="520"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const hud = document.getElementById("hud");

let time = "";
let jogador = "";
let corTime = "";

let bola = { x: 180, y: 300, r: 8 };
let jogadorPos = { x: 180, y: 420 };
let goleiro = { x: 140, y: 60, w: 80, h: 15 };

let velocidadeBola = { x: 0, y: 0 };

function selecionarTime(t, j, c) {
  time = t;
  jogador = j;
  corTime = c;
}

function iniciarJogo() {
  if (!time) {
    alert("Escolha um time!");
    return;
  }

  document.getElementById("menu").style.display = "none";
  canvas.style.display = "block";
  hud.style.display = "block";
  hud.innerText = time + " | Jogador: " + jogador;

  loop();
}

function desenharCampo() {
  ctx.fillStyle = "#1e7f3f";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  ctx.strokeStyle = "white";
  ctx.lineWidth = 4;
  ctx.strokeRect(10, 10, 340, 500);

  // Gol
  ctx.strokeRect(110, 10, 140, 60);
}

function desenharJogador() {
  ctx.fillStyle = corTime;
  ctx.beginPath();
  ctx.arc(jogadorPos.x, jogadorPos.y, 14, 0, Math.PI * 2);
  ctx.fill();

  ctx.fillStyle = "white";
  ctx.font = "12px Arial";
  ctx.fillText(jogador, jogadorPos.x - 22, jogadorPos.y + 30);
}

function desenharBola() {
  ctx.fillStyle = "white";
  ctx.beginPath();
  ctx.arc(bola.x, bola.y, bola.r, 0, Math.PI * 2);
  ctx.fill();
}

function desenharGoleiro() {
  ctx.fillStyle = "black";
  ctx.fillRect(goleiro.x, goleiro.y, goleiro.w, goleiro.h);

  goleiro.x += Math.sin(Date.now() / 300) * 1.5;
}

function atualizarBola() {
  bola.x += velocidadeBola.x;
  bola.y += velocidadeBola.y;

  // Gol
  if (bola.y < 60 && bola.x > 110 && bola.x < 250) {
    alert("‚öΩ GOOOL!");
    resetar();
  }

  // Fora
  if (bola.y < 0 || bola.y > canvas.height) {
    resetar();
  }
}

function resetar() {
  bola.x = 180;
  bola.y = 300;
  velocidadeBola.x = 0;
  velocidadeBola.y = 0;
}

function loop() {
  desenharCampo();
  desenharGoleiro();
  desenharBola();
  desenharJogador();
  atualizarBola();

  requestAnimationFrame(loop);
}

// CONTROLES
document.addEventListener("keydown", e => {
  if (e.key === "ArrowLeft") jogadorPos.x -= 10;
  if (e.key === "ArrowRight") jogadorPos.x += 10;

  // Chutar
  if (e.key === " ") {
    velocidadeBola.y = -6;
    velocidadeBola.x = (Math.random() - 0.5) * 3;
  }
});
</script>

</body>
</html>
