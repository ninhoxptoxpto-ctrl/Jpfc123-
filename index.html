<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Mini Futebol JP</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;background:#0b5d2a;font-family:Arial;color:white;text-align:center}
#campo{width:300px;height:460px;margin:auto;background:#1e7f3f;border:4px solid white;position:relative}
.gol{position:absolute;top:0;left:90px;width:120px;height:40px;border:3px solid white}
.jogador,.zagueiro,.goleiro,.bola{
  position:absolute;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:9px;font-weight:bold;color:white
}
.jogador{width:26px;height:26px;background:#00e676}
.zagueiro{width:26px;height:26px;background:#e53935}
.goleiro{width:42px;height:16px;background:black;border-radius:6px}
.bola{width:12px;height:12px;background:white}
button{padding:8px 14px;margin:3px}
</style>
</head>

<body>

<h3>‚öΩ Mini Futebol JP ‚Äî Zagueiro Inteligente</h3>

<div id="campo">
  <div class="gol"></div>

  <div id="j1" class="jogador">Julia<br>05</div>
  <div id="j2" class="jogador">Vanessa<br>10</div>

  <div id="z1" class="zagueiro"></div>
  <div id="z2" class="zagueiro"></div>

  <div id="gk" class="goleiro"></div>
  <div id="bola" class="bola"></div>
</div>

<div>
<button onclick="move(0,-10)">‚¨ÜÔ∏è</button><br>
<button onclick="move(-10,0)">‚¨ÖÔ∏è</button>
<button onclick="move(10,0)">‚û°Ô∏è</button><br>
<button onclick="move(0,10)">‚¨áÔ∏è</button><br><br>
<button onclick="passe()">ü§ù Passe</button>
<button onclick="chutar()">‚öΩ Chutar</button>
</div>

<script>
const j1={x:120,y:360};
const j2={x:180,y:360};
const bola={x:150,y:340};

const z1={x:80,y:220,temBola:false};
const z2={x:220,y:220,temBola:false};
const gk={x:130,y:20};

let atual=1;
let dono="jogador";
let anim=false;

const el=id=>document.getElementById(id);

function draw(){
  pos("j1",j1);pos("j2",j2);
  pos("z1",z1);pos("z2",z2);
  pos("gk",gk);pos("bola",bola);
}
function pos(id,o){
  el(id).style.left=o.x+"px";
  el(id).style.top=o.y+"px";
}

function jogadorComBola(){
  return atual===1?j1:j2;
}

function move(dx,dy){
  if(anim||dono!=="jogador")return;
  let j=jogadorComBola();
  j.x+=dx;j.y+=dy;
  bola.x=j.x+7;bola.y=j.y-12;
  draw();
}

function passe(){
  if(anim||dono!=="jogador")return;
  anim=true;
  let o=jogadorComBola();
  let d=atual===1?j2:j1;
  let i=0;
  let it=setInterval(()=>{
    bola.x+=(d.x-o.x)/20;
    bola.y+=(d.y-o.y)/20;
    draw();
    i++;
    if(i>20){
      clearInterval(it);
      atual=atual===1?2:1;
      anim=false;
    }
  },30);
}

function chutar(){
  if(anim||dono!=="jogador")return;
  anim=true;
  let it=setInterval(()=>{
    bola.y-=14;
    draw();
    if(colide(bola,gk)){
      clearInterval(it);
      reset();
    }
    if(bola.y<40){
      clearInterval(it);
      alert("‚öΩ GOL!");
      reset();
    }
  },30);
}

/* ===== IA DO ZAGUEIRO ===== */
setInterval(()=>{
  let alvo = dono==="jogador" ? jogadorComBola() : bola;

  [z1,z2].forEach(z=>{
    if(!z.temBola){
      z.x+=(alvo.x-z.x)/18;
      z.y+=(alvo.y-z.y)/18;
      if(colide(z,bola)){
        z.temBola=true;
        dono="zagueiro";
      }
    }else{
      bola.x=z.x+7;
      bola.y=z.y+20;

      // decis√£o inteligente
      if(z.y<160 && Math.random()<0.02){
        chuteZagueiro(z);
      }else if(Math.random()<0.01){
        passeZagueiro(z);
      }else{
        z.y+=2;
      }
    }
  });

  draw();
},80);

function passeZagueiro(z){
  let outro=z===z1?z2:z1;
  z.temBola=false;
  outro.temBola=true;
}

function chuteZagueiro(z){
  z.temBola=false;
  let it=setInterval(()=>{
    bola.y-=12;
    draw();
    if(bola.y<40){
      clearInterval(it);
      alert("‚öΩ GOL DO ZAGUEIRO!");
      reset();
    }
  },30);
}

setInterval(()=>{
  if(dono==="zagueiro"){
    let j=jogadorComBola();
    if(colide(j,bola)){
      dono="jogador";
      z1.temBola=false;
      z2.temBola=false;
    }
  }
},50);

function colide(a,b){
  return Math.abs(a.x-b.x)<18 && Math.abs(a.y-b.y)<18;
}

function reset(){
  j1.x=120;j1.y=360;
  j2.x=180;j2.y=360;
  z1.x=80;z1.y=220;z1.temBola=false;
  z2.x=220;z2.y=220;z2.temBola=false;
  bola.x=150;bola.y=340;
  dono="jogador";
  atual=1;
  anim=false;
  draw();
}

draw();
</script>

</body>
  </html>
